# 一、MapReduce介绍

## 1. MapReduce定义

MapReduce是一种编程模型，用于大规模数据集的并行运算，是用户开发“基于hadoop的数据分析应用”的核心框架

Mapreduce 核心功能是将用户编写的业务逻辑代码和自带默认组件整合成一个完整的分布式运算程序，并发运行在一个 hadoop 集群上。

## 2. MapReduce优缺点

### 优点
	
1. **MapReduce易于编程** 。它简单的实现一些接口，就可以完成一个分布式程序，这个
分布式程序可以分布到大量廉价的 PC 机器上运行。也就是说你写一个分布式程序，跟写一
个简单的串行程序是一模一样的。就是因为这个特点使得 MapReduce 编程变得非常流行。

2. **良好的扩展性**。当你的计算资源不能得到满足的时候，你可以通过简单的增加机器
来扩展它的计算能力。

3. **高容错性**。MapReduce 设计的初衷就是使程序能够部署在廉价的 PC 机器上，这就
要求它具有很高的容错性。比如其中一台机器挂了，它可以把上面的计算任务转移到另外一
个节点上运行，不至于这个任务运行失败，而且这个过程不需要人工参与，而完全是由
Hadoop 内部完成的。

4. **适合PB级以上海量数据的离线处理。** 

### 缺点

**MapReduce 不擅长做实时计算、流式计算、DAG（有向图）计算。**

1. **实时计算**：MapReduce 无法像 Mysql 一样，在毫秒或者秒级内返回结果。
2. **流式计算**：流式计算的输入数据是动态的，而 MapReduce 的输入数据集是静态的，
不能动态变化。这是因为 MapReduce 自身的设计特点决定了数据源必须是静态的。
3. **DAG（有向图）计算**：多个应用程序存在依赖关系，后一个应用程序的输入为前一
个的输出。在这种情况下，MapReduce 并不是不能做，而是使用后，每个 MapReduce 作业
的输出结果都会写入到磁盘，会造成大量的磁盘 IO，导致性能非常的低下。


### 3. MapReduce核心思想


### 4. MapReduce编程规范

用户编写的程序分为三个部分：Mapper、Reducer、Driver

1. Mapper阶段
	-用户自定义的Mapper类需要继承Hadoop提供的Mapper父类，并重写其map()方法
	
	-Mapper的输入数据是KV对的形式
	
	-Mapper的业务逻辑写在map()方法中
	
	-Mapper的输出数据是KV对的形式
	
	-map()方法对每一个<K,V>调用一次


2. Reducer阶段
	
	- 用户自定义的Reducer类需要继承Hadoop提供的Reducer父类，并重写其reduce()方法
	
	- Reducer的输入数据类型对应Mapper的输出数据类型
	
	- Reducer的业务逻辑写在reduce()方法中

	- ReducerTask进程对每一组相同k的<k,v>组调用一次reduce()方法


3. Driver阶段

	整个MapReduce程序需要一个Driver来进行提交任务，提交的是一个描述了各种必要信息的job对象。

